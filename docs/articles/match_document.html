<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Documentation for CenSoc Dataset • censoc</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Documentation for CenSoc Dataset">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">censoc</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bfdw_variables.html">Variables in CenSoc for BFDW</a>
    </li>
    <li>
      <a href="../articles/censoc_chapter.pdf">Deaths without denominators: using a matched dataset to study mortality patterns in the United States (PDF)</a>
    </li>
    <li>
      <a href="../articles/ipums_document.html">Obtaining the full count 1940 census from IPUMS to use with CenSoc</a>
    </li>
    <li>
      <a href="../articles/ipums_merge.html">Merging IPUMS and Censoc</a>
    </li>
    <li>
      <a href="../articles/match_document.html">Documentation for CenSoc Dataset</a>
    </li>
    <li>
      <a href="../articles/truncated_gompertz_mortality.html">Truncated Gompertz mortality estimation by cohort and birthplace</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/MJAlexander/censoc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Documentation for CenSoc Dataset</h1>
                        <h4 class="author">Monica Alexander</h4>
            
            <h4 class="date">2018-12-20</h4>
      
      <small class="dont-index">Source: <a href="http://github.com/MJAlexander/censoc/blob/master/vignettes/match_document.Rmd"><code>vignettes/match_document.Rmd</code></a></small>
      <div class="hidden name"><code>match_document.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The ‘CenSoc’ project involves producing a dataset which contains records from the full-count 1940 US census to the social security deaths masterfile. The resulting CenSoc dataset provides researchers with a tool for studying mortality inequalities in the US and how conditions have changed over time.</p>
<p>This document outlines the data sources and methods used to produce the initial CenSoc dataset. The results of the matching process and relative characteristics of the matched and unmatched records are also described.</p>
<div id="the-censoc-r-package" class="section level2">
<h2 class="hasAnchor">
<a href="#the-censoc-r-package" class="anchor"></a>The <code>censoc</code> R package</h2>
<p>The CenSoc project has an accompanying R package <code>censoc</code>, which contains supporting R code and documentation used to create and work with the CenSoc dataset. Information about the package can be found <a href="https://censoc.demog.berkeley.edu/index.html">here</a>.</p>
<p>The CenSoc dataset was created by combining two separate data sources: the 1940 census, and the Social Security Deaths Master file (SSDM). The two data sources were matched based on unique identifiers of first name, last name and age at the time of the census. Due to issues with potential name changes with marriage, the matching process is restricted to only include males.</p>
<p>As described below, the census observes individuals in 1940, and the SSDM observes individuals in the period 1975-2005. Therefore, by construction, the CenSoc dataset can only contain individuals who died between 1975 and 2005.</p>
</div>
<div id="data" class="section level2">
<h2 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h2>
<p>The demographic and socioeconomic data come from the U.S. 1940 census, which was completed on 1 April 1940. The census collected demographic information such as age, sex, race, number of children, birthplace, and mother’s and father’s birthplace. Geographic information, including county and street address, and economic information such as wages, non-wage income, hours worked, labor force status and ownership of house was also collected. The 1940 census had a total of 132,164,569 individuals, 66,093,146 of whom were males.</p>
<p>The 1940 census records were released by the U.S. National Archives on April 2, 2012. The original 1940 census records were digitized by Ancestry.com and are available through the Minnesota Population Center (MPC). The MPC provides a de-identified version of the complete count census as part of the IPUMS-USA project. However, names and other identifying information are not available from the IPUMS website. Access to the restricted 1940 census data was granted by agreement between UC Berkeley and MPC. The data are encrypted and can only be accessed through computers or servers on the Berkeley demography network.</p>
<p>Information on the age and date of death was obtained through the SSDM. This contains a record of all deaths that have been reported to the Social Security Administration (SSA) since 1962. The SSDM is used by financial and government agencies to match records and prevent identity fraud and is considered a public document under the Freedom of Information Act. Monthly and weekly updates of the file are sold by the National Technical Information Service of the U.S. Department of Commerce. A copy of the 2011 version was obtained through the Berkeley Library Data Lab.</p>
<p>The SSDM contains an individual’s first name, last name, middle initial, social security number, date of birth and date of death. The 2011 file has 85,822,194 death records. The death dates span the years 1962-2011. There are 76,056,377 individuals in the SSDM who were alive at the time of the 1940 census.</p>
<p>Completeness of death reporting in the SSDM is lower pre-1970s, when a substantial proportion of the population did not pay into the social security system. Deaths are more likely to be reported at older ages, when a person was more likely to be receiving social security benefits.</p>
<p>To check the coverage of SSDM at the population level, the total number of deaths by year reported in the SSDM was compared to those in the Human Mortality Database (HMD). As the Figure below illustrates, the completeness of the SSDM file is high (around 95%) for ages 55+ in the period 1975-2005. As such, the data used to create CenSoc is restricted to only include deaths from SSDM that occurred between the period 1975-2005.</p>
<p><img src="fig/hmd_ssdm_deaths_55.png" width="600px"></p>
</div>
<div id="data-preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#data-preparation" class="anchor"></a>Data preparation</h2>
<p>For the Census dataset, the following pre-processing steps were done (using the <code>load_census</code> function):</p>
<ul>
<li>Convert all name strings to upper case.</li>
<li>Remove the middle name. The original first name variable contains both first and middle name. The name string is split and only the first name is used for matching.</li>
<li>Remove rows where either the first or last name are just question marks or blank.</li>
<li>Create a match key by concatenating last name, first name and age.</li>
<li>Subset the data to only include males.</li>
</ul>
<p>For the social security deaths files, there are three raw files in which rows contain a continuous string of characters. For each of the three files, each row is split into social security number, last name, first name, middle initial, date of death and date of birth. The three files are then bound together to create one large file.</p>
<p>The following pre-processing steps are done (using the <code>load_socsec_deaths</code> function):</p>
<ul>
<li>Remove any trailing white space from first and last names</li>
<li>Split date of birth and date of death to get day, month and year of birth and death.</li>
<li>Calculate age of person at census. The age is calculated based on knowing the date of birth and that the 1940 census was run in April.</li>
<li>Remove any deaths where the date of birth is missing</li>
<li>Remove any deaths of people who born after 1940</li>
<li>Remove any deaths before 1975</li>
<li>Create a match key by concatenating last name, first name and census age.</li>
</ul>
</div>
<div id="match-method" class="section level2">
<h2 class="hasAnchor">
<a href="#match-method" class="anchor"></a>Match method</h2>
<p>The two datasets are matched based on exact matches of first name, last name and age. For example, a match key could be . Census records with a key that is not found in the social security deaths database are not matched. The specific steps are:</p>
<ol style="list-style-type: decimal">
<li>Load in the cleaned census and social security datasets.</li>
<li>Remove duplicate keys.</li>
<li>Merge the datasets based on key.</li>
</ol>
<p>Due to file size, the matching step is done separately for each census file in each U.S. state. The resulting national dataset is created by:</p>
<ol style="list-style-type: decimal">
<li>Loading and binding all state matched files.</li>
<li>Removing all rows that have duplicated keys. \end{enumerate}</li>
</ol>
</div>
<div id="resulting-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#resulting-dataset" class="anchor"></a>Resulting dataset</h2>
<p>A total of 7,564,451 individual males were matched across the census and SSDM to create the CenSoc dataset. As the 1940 full count census had 66,093,146 males, this corresponds to a raw match rate of 11.4%. A total of 43,881,719 males in the census had unique keys; as such the match rate on unique keys was 17.2%.</p>
<p>The raw match rates differ markedly by cohort/age at census. As Table 1 illustrates, match rates are highest for 15-40 year olds. This corresponds to cohorts born in 1900-1925.</p>
<table class="table">
<caption>CenSoc match rates by age group</caption>
<thead><tr class="header">
<th align="left">Census age</th>
<th align="right">Match rate (%)</th>
<th align="right">Unique match rate (%)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">0-4</td>
<td align="right">9.1</td>
<td align="right">14.4</td>
</tr>
<tr class="even">
<td align="left">5-9</td>
<td align="right">11.6</td>
<td align="right">18.4</td>
</tr>
<tr class="odd">
<td align="left">10-14</td>
<td align="right">14.5</td>
<td align="right">22.7</td>
</tr>
<tr class="even">
<td align="left">15-19</td>
<td align="right">17.0</td>
<td align="right">26.3</td>
</tr>
<tr class="odd">
<td align="left">20-24</td>
<td align="right">18.2</td>
<td align="right">27.4</td>
</tr>
<tr class="even">
<td align="left">25-29</td>
<td align="right">18.0</td>
<td align="right">26.8</td>
</tr>
<tr class="odd">
<td align="left">30-34</td>
<td align="right">16.6</td>
<td align="right">24.8</td>
</tr>
<tr class="even">
<td align="left">35-39</td>
<td align="right">13.9</td>
<td align="right">20.7</td>
</tr>
<tr class="odd">
<td align="left">40-44</td>
<td align="right">10.8</td>
<td align="right">16.0</td>
</tr>
<tr class="even">
<td align="left">45-49</td>
<td align="right">7.4</td>
<td align="right">11.0</td>
</tr>
<tr class="odd">
<td align="left">50-54</td>
<td align="right">4.2</td>
<td align="right">6.2</td>
</tr>
<tr class="even">
<td align="left">55-59</td>
<td align="right">1.7</td>
<td align="right">2.6</td>
</tr>
<tr class="odd">
<td align="left">60-64</td>
<td align="right">0.4</td>
<td align="right">0.7</td>
</tr>
<tr class="even">
<td align="left">65-69</td>
<td align="right">0.1</td>
<td align="right">0.1</td>
</tr>
<tr class="odd">
<td align="left">70-74</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
</tr>
<tr class="even">
<td align="left">75+</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
</tr>
</tbody>
</table>
<p>These raw match rates do not take into consideration mortality. Some individuals died before 1975, and some are still alive after 2005; neither appears in the SSDM. In particular, the low rates at older ages are mostly due to the fact that people of that age in the census have already died by 1975. Thus we would never expect to get match rates of 100% given we only observe a truncated window of deaths.</p>
</div>
</div>
<div id="merging-with-public-use-ipums-file" class="section level1">
<h1 class="hasAnchor">
<a href="#merging-with-public-use-ipums-file" class="anchor"></a>Merging with public-use IPUMS file</h1>
<p>The CenSoc dataset contains information about individaul’s birth date (and implied at the 1940 census), death date and state of residence in 1940. The dataset does not contain any other information on the characteristics of the individuals; however, by using the unique identifier information contained in the CenSoc dataset, the data can be merged back to the 1940 census available on the <a href="https://usa.ipums.org/usa/">IPUMS-USA</a> website.</p>
<p>For instructions on how to obtain full count census data from IPUMS, see documentation <a href="https://censoc.demog.berkeley.edu/articles/ipums_document.html">here</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#introduction">Introduction</a><ul class="nav nav-pills nav-stacked">
<li><a href="#the-censoc-r-package">The <code>censoc</code> R package</a></li>
      <li><a href="#data">Data</a></li>
      <li><a href="#data-preparation">Data preparation</a></li>
      <li><a href="#match-method">Match method</a></li>
      <li><a href="#resulting-dataset">Resulting dataset</a></li>
      </ul>
</li>
      <li><a href="#merging-with-public-use-ipums-file">Merging with public-use IPUMS file</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Monica Alexander, Joshua Goldstein.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
