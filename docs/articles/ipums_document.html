<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Obtaining the full count 1940 census from IPUMS to use with CenSoc • censoc</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Obtaining the full count 1940 census from IPUMS to use with CenSoc">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">censoc</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bfdw_variables.html">Variables in CenSoc for BFDW</a>
    </li>
    <li>
      <a href="../articles/ipums_document.html">Obtaining the full count 1940 census from IPUMS to use with CenSoc</a>
    </li>
    <li>
      <a href="../articles/match_document.html">Documentation for CenSoc Dataset</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/MJAlexander/censoc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Obtaining the full count 1940 census from IPUMS to use with CenSoc</h1>
            
            <h4 class="date">2018-05-21</h4>
      
      <small>Source: <a href="http://github.com/MJAlexander/censoc/blob/master/vignettes/ipums_document.Rmd"><code>vignettes/ipums_document.Rmd</code></a></small>
      <div class="hidden name"><code>ipums_document.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The CenSoc dataset contains information about individaul’s birth date (and implied at the 1940 census), death date and state of residence in 1940. The dataset does not contain any other information on the characteristics of the individuals; however, by using the unique identifier information contained in the CenSoc dataset, the data can be merged back to the 1940 census available on the <a href="https://usa.ipums.org/usa/">IPUMS-USA</a> website.</p>
<p>This document briefly outlines how to obtain data from the 1940 full count census, which is publicly available through IPUMS. Once obtained, the IPUMS data can be merged with the CenSoc dataset. This step is explained in the final section.</p>
<p>If you already have an IPUMS account and are familar with obtaining data from IPUMS, it may be more useful to head straight to the last section for details on how to merge. However, please note the section on ‘Variables required for the CenSoc merge’.</p>
</div>
<div id="registering-for-ipums" class="section level1">
<h1 class="hasAnchor">
<a href="#registering-for-ipums" class="anchor"></a>Registering for IPUMS</h1>
<p>The Integrated Public Use Microdata Series (IPUMS) is a collection of individual-level data sources. IPUMS consists of microdata samples from censuses and surveys, in both the USA and internationally. IPUMS is housed at the Minnesota Population Center at the University of Minnesota.</p>
<p>The IPUMS-USA data collection is free to use, but researchers must register and agree to terms and conditions. All you need to do to register is to fill out the form here:</p>

<p>(Note: this link was accessed in March 2018. If it is broken, go to , navigate to ‘Login’ and then ‘Create an account’).</p>
</div>
<div id="choosing-variables-from-the-1940-full-count-census" class="section level1">
<h1 class="hasAnchor">
<a href="#choosing-variables-from-the-1940-full-count-census" class="anchor"></a>Choosing variables from the 1940 full count census</h1>
<p>Once you have an account, you are ready to select and download data from the 1940 full count census. To get started, go to  and under ‘CREATE YOUR CUSTOM DATA SET’ click the ‘GET DATA’ button.</p>
<div id="select-data-sample" class="section level2">
<h2 class="hasAnchor">
<a href="#select-data-sample" class="anchor"></a>Select data sample</h2>
<p>To restrict data extraction to the 1940 full count:</p>
<ul>
<li>Click the ‘SELECT SAMPLES BUTTON’. This will take you to a page with all possible census and ACS data that are available.</li>
<li>Uncheck the ‘Default sample from each year’ box</li>
<li>Click the ‘USA FULL COUNT’ tab</li>
<li>Check the 1940 100% box</li>
<li>Click ‘SUBMIT SAMPLE SELECTIONS’ button</li>
</ul>
<p>This will take you back to the variable selection page.</p>
</div>
<div id="variables-required-for-censoc-merge" class="section level2">
<h2 class="hasAnchor">
<a href="#variables-required-for-censoc-merge" class="anchor"></a>Variables required for CenSoc merge</h2>
<p>There are several technical variables that are required for the CenSoc merge. These are:</p>
<ul>
<li>
<code>SERIAL40</code>: 1940 census serial number</li>
<li>
<code>PERNUM</code>: person number in household</li>
<li>
<code>STATEFIP</code>: US state code</li>
</ul>
<p>Together, these variables make up a unique identifier that allows correspondence across the two datasets. Additionally, the <code>SEX</code> variable is needed in order to restrict the sample to be males only.<br>
To obtain these variables:</p>
<ol style="list-style-type: decimal">
<li>From the HOUSEHOLD drop down, select ‘HISTORICAL TECHNICAL’. Then click on the cross next to <code>SERIAL40</code> to select it.</li>
<li>From the HOUSEHOLD drop down, select ’GEOGRAPHIC. Then click on the cross next to <code>STATEFIP</code> to select it.</li>
<li>From the PERSON drop down, select ‘TECHNICAL’. Note that <code>PERNUM</code> should be <code>[preselected]</code>, but you can click on the cross next to it just to make sure.</li>
<li>From the PERSON drop down, select ‘DEMOGRAPHIC’. Then click on the cross next to <code>SEX</code>.</li>
</ol>
<p>Additionally, you may want to select <code>AGE</code> from PERSONAL → DEMOGRAPHIC. This is not required, but this variable should be equal to the <code>census_age</code> variable in CenSoc.</p>
</div>
<div id="other-variables-of-interest" class="section level2">
<h2 class="hasAnchor">
<a href="#other-variables-of-interest" class="anchor"></a>Other variables of interest</h2>
<p>Now that you have variables required to merge the two datasets, you can choose other variables that you may be interested in studying mortality differences by. For example, you could select <code>RACE</code>, which is under PERSONAL → RACE, ETHNICITY, AND NATIVITY.</p>
<p><strong>NOTE:</strong> the size of full count census data files is quite large, so you may want to restrict the addition of extra variables accordingly. For example, a file (containing males only) with <code>RACE</code> as an additional variable is around 6.6GB.</p>
</div>
<div id="restrict-to-males-only" class="section level2">
<h2 class="hasAnchor">
<a href="#restrict-to-males-only" class="anchor"></a>Restrict to males only</h2>
<p>The CenSoc dataset only contains males, and given the large file size of the full count census, it is wise to restrict the data to only include males before you download it. To do this:</p>
<ol style="list-style-type: decimal">
<li>Click ‘VIEW CART’</li>
<li>Check that all the variables you want are selected. Then click ‘CREATE DATA EXTRACT’</li>
<li>Under OPTIONS, click the ‘SELECT CASES’ button</li>
<li>Check the box next to SEX</li>
<li>Chcek the box next to ‘1 Males’ and click SUBMIT</li>
</ol>
</div>
</div>
<div id="downloading-the-ipums-file" class="section level1">
<h1 class="hasAnchor">
<a href="#downloading-the-ipums-file" class="anchor"></a>Downloading the IPUMS file</h1>
<p>To work with IPUMS data in <code>R</code>, it is usually easiest to download the data as a CSV file. To do this, on the EXTRACT REQUEST page, next to ‘DATA FORMAT’ click Change, select ‘Comma delimited (.csv)’ and click the submit button. Note that you can work with other formats in <code>R</code> as well, but CSV is generally the easiest. The only downside is that variable values are still listed in code format, and need to be converted to meaningful values using the codebook.</p>
<p>Once you are happy with your dataset, click the ‘SUBMIT EXTRACT’ button. Because it is full count data, you will need agree to special usage terms. Click Ok, and the dataset will begin to be extracted.</p>
<p>Given the size of the file, the processing may take a while. Once the file is ready, you will receive an email from IPUMS, and you can follow the links to download the resulting dataset.</p>
</div>
<div id="merging-ipums-with-censoc" class="section level1">
<h1 class="hasAnchor">
<a href="#merging-ipums-with-censoc" class="anchor"></a>Merging IPUMS with CenSoc</h1>
<p>Once the IPUMS census dataset is obtained, it can easily be merged with the CenSoc dataset. An example <code>R</code> file can be found here: .</p>
<p>The idea is to create a unqiue ID by concatenating <code>SERIAL40</code>, <code>PERNUM</code> and <code>STATEFIP</code>. The three codes should be concatenated with some sort of separator (e.g. and underscore). The two datasets are then merged based on this unique ID.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> This can be done using base <code>R</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">merged_df &lt;-<span class="st"> </span><span class="kw">merge</span>(censoc, census, <span class="dt">by =</span> <span class="st">"unique_id"</span>)</code></pre></div>
<p>or using the tidyverse/dplyr functionality:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">merged_df &lt;-<span class="st"> </span>censoc <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">left_join</span>(census, <span class="dt">by =</span> <span class="st">"unique_id"</span>)</code></pre></div>
<p>or using the <code>data.table</code> package (which is probably the fastest):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">merged_df &lt;-<span class="st"> </span>censoc[census, nomatch=<span class="dv">0</span>]</code></pre></div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Note: there is no way of matching individuals who lived in residences for 60 or more people across the CenSoc/IPUMS census datasets. The combination of SERIAL40, PERNUM and STATEFIP is not unique.<a href="#fnref1">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#registering-for-ipums">Registering for IPUMS</a></li>
      <li>
<a href="#choosing-variables-from-the-1940-full-count-census">Choosing variables from the 1940 full count census</a><ul class="nav nav-pills nav-stacked">
<li><a href="#select-data-sample">Select data sample</a></li>
      <li><a href="#variables-required-for-censoc-merge">Variables required for CenSoc merge</a></li>
      <li><a href="#other-variables-of-interest">Other variables of interest</a></li>
      <li><a href="#restrict-to-males-only">Restrict to males only</a></li>
      </ul>
</li>
      <li><a href="#downloading-the-ipums-file">Downloading the IPUMS file</a></li>
      <li><a href="#merging-ipums-with-censoc">Merging IPUMS with CenSoc</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Monica Alexander, Joshua Goldstein.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
